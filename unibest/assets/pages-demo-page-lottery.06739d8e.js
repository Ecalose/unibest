import{d as t,j as e,G as s,a,c as l,w as o,b as n,e as r,k as d,l as i,F as u,f as p,h as c,X as f,u as y,t as m,J as _,_ as k}from"./index-4b101180.js";const g=k(t({__name:"lottery",setup(t){const k=[1,2,3,8,-1,4,7,6,5],g=k[4],h=e({lottery:0,step:-1,stopStep:32,speed:2,timer:null,loading:!1}),v=s((()=>h.step%8+1));function x(){if(h.step>=h.stopStep)return clearTimeout(h.timer),h.step=h.lottery,h.speed=2,h.loading=!1,void _({title:`恭喜获得${v.value}号奖品`});h.step>24+h.lottery&&h.speed++,h.step++,h.timer=setTimeout(x,30*h.speed)}return(t,e)=>{const s=p,_=c("layout-demo-uni");return a(),l(_,null,{default:o((()=>[n(s,{class:"mt-4 h-10 text-center"},{default:o((()=>[r("九宫格抽奖")])),_:1}),n(s,{class:"lottery-box"},{default:o((()=>[n(s,{class:"lottery-list"},{default:o((()=>[(a(),d(u,null,i(k,(t=>n(s,{class:f(["lottery-item",{active:t===y(v),btn:t===y(g)}]),key:t,onClick:e=>function(t){t===g&&(h.loading||(h.loading=!0,h.lottery=Math.ceil(8*Math.random()),h.stopStep=h.lottery+32,x()))}(t)},{default:o((()=>[t===y(g)?(a(),l(s,{key:0},{default:o((()=>[r("点击抽奖")])),_:1})):(a(),l(s,{key:1},{default:o((()=>[r(m(t),1)])),_:2},1024))])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-634569aa"]]);export{g as default};
